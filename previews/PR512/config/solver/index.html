<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>config[&quot;Solver&quot;] · Palace</title><meta name="title" content="config[&quot;Solver&quot;] · Palace"/><meta property="og:title" content="config[&quot;Solver&quot;] · Palace"/><meta property="twitter:title" content="config[&quot;Solver&quot;] · Palace"/><meta name="description" content="Documentation for Palace."/><meta property="og:description" content="Documentation for Palace."/><meta property="twitter:description" content="Documentation for Palace."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.png" alt="Palace logo"/><img class="docs-dark-only" src="../../assets/logo-dark.png" alt="Palace logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../quick/">Quick Start</a></li><li><a class="tocitem" href="../../install/">Installation</a></li><li><a class="tocitem" href="../../run/">Running <em>Palace</em></a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../guide/guide/">Overview</a></li><li><a class="tocitem" href="../../guide/problem/">Problem Types</a></li><li><a class="tocitem" href="../../guide/model/">Simulation Models</a></li><li><a class="tocitem" href="../../guide/boundaries/">Boundary Conditions</a></li><li><a class="tocitem" href="../../guide/postprocessing/">Postprocessing and Visualization</a></li><li><a class="tocitem" href="../../guide/parallelism/">Parallelism and GPU Support</a></li></ul></li><li><span class="tocitem">Configuration File</span><ul><li><a class="tocitem" href="../config/">Overview</a></li><li><a class="tocitem" href="../problem/"><code>config[&quot;Problem&quot;]</code></a></li><li><a class="tocitem" href="../model/"><code>config[&quot;Model&quot;]</code></a></li><li><a class="tocitem" href="../domains/"><code>config[&quot;Domains&quot;]</code></a></li><li><a class="tocitem" href="../boundaries/"><code>config[&quot;Boundaries&quot;]</code></a></li><li class="is-active"><a class="tocitem" href><code>config[&quot;Solver&quot;]</code></a><ul class="internal"><li><a class="tocitem" href="#solver[&quot;Eigenmode&quot;]"><span><code>solver[&quot;Eigenmode&quot;]</code></span></a></li><li><a class="tocitem" href="#solver[&quot;Driven&quot;]"><span><code>solver[&quot;Driven&quot;]</code></span></a></li><li><a class="tocitem" href="#solver[&quot;Transient&quot;]"><span><code>solver[&quot;Transient&quot;]</code></span></a></li><li><a class="tocitem" href="#solver[&quot;Electrostatic&quot;]"><span><code>solver[&quot;Electrostatic&quot;]</code></span></a></li><li><a class="tocitem" href="#solver[&quot;Magnetostatic&quot;]"><span><code>solver[&quot;Magnetostatic&quot;]</code></span></a></li><li><a class="tocitem" href="#solver[&quot;Linear&quot;]"><span><code>solver[&quot;Linear&quot;]</code></span></a></li></ul></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/examples/">Overview</a></li><li><a class="tocitem" href="../../examples/spheres/">Capacitance Matrix for Two Spheres</a></li><li><a class="tocitem" href="../../examples/rings/">Inductance Matrix for a Pair of Concentric Rings</a></li><li><a class="tocitem" href="../../examples/cylinder/">Eigenmodes of a Cylinder</a></li><li><a class="tocitem" href="../../examples/coaxial/">Signal Propagation in a Coaxial Cable</a></li><li><a class="tocitem" href="../../examples/cpw/">Crosstalk Between Coplanar Waveguides</a></li></ul></li><li><span class="tocitem">For Developers</span><ul><li><a class="tocitem" href="../../developer/notes/">Developer Notes</a></li><li><a class="tocitem" href="../../developer/testing/">Testing</a></li></ul></li><li><a class="tocitem" href="../../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Configuration File</a></li><li class="is-active"><a href><code>config[&quot;Solver&quot;]</code></a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href><code>config[&quot;Solver&quot;]</code></a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/awslabs/palace" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/awslabs/palace/blob/main/docs/src/config/solver.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><!--- Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved. --->
<!--- SPDX-License-Identifier: Apache-2.0 ---><h1 id="config[&quot;Solver&quot;]"><a class="docs-heading-anchor" href="#config[&quot;Solver&quot;]"><code>config[&quot;Solver&quot;]</code></a><a id="config[&quot;Solver&quot;]-1"></a><a class="docs-heading-anchor-permalink" href="#config[&quot;Solver&quot;]" title="Permalink"></a></h1><pre><code class="language-json hljs">&quot;Solver&quot;:
{
    &quot;Order&quot;: &lt;int&gt;,
    &quot;PartialAssemblyOrder&quot;: &lt;int&gt;,
    &quot;Device&quot;: &lt;string&gt;,
    &quot;Backend&quot;: &lt;string&gt;,
    &quot;Eigenmode&quot;:
    {
        ...
    },
    &quot;Driven&quot;:
    {
        ...
    },
    &quot;Transient&quot;:
    {
        ...
    },
    &quot;Electrostatic&quot;:
    {
        ...
    },
    &quot;Magnetostatic&quot;:
    {
        ...
    },
    &quot;Linear&quot;:
    {
        ...
    }
}</code></pre><p>with</p><p><code>&quot;Order&quot; [1]</code> :  Finite element order (degree). Arbitrary high-order spaces are supported.</p><p><code>&quot;PartialAssemblyOrder&quot; [1]</code> :  Order at which to switch from full assembly of finite element operators to <a href="https://mfem.org/howto/assembly_levels/">partial assembly</a>. Setting this parameter equal to 1 will fully activate operator partial assembly on all levels, while setting it to some large number (greater than the finite element order) will result in fully assembled operators as sparse matrices.</p><p><code>&quot;Device&quot; [&quot;CPU&quot;]</code> :  The runtime device configuration passed to <a href="https://mfem.org/howto/assembly_levels/">MFEM</a> in order to activate different options specified during configuration. The available options are:</p><ul><li><code>&quot;CPU&quot;</code></li><li><code>&quot;GPU&quot;</code></li><li><code>&quot;Debug&quot;</code></li></ul><p>The <code>&quot;GPU&quot;</code> option will automatically activate the <code>cuda</code> or <code>hip</code> device based on whether MFEM is built with CUDA (<code>MFEM_USE_CUDA=ON</code>) or HIP (<code>MFEM_USE_HIP=ON</code>) support. When <em>Palace</em> is built with OpenMP support (<code>PALACE_WITH_OPENMP=ON</code>), <code>omp</code> is automatically added to the list of activated MFEM devices. The <code>&quot;Debug&quot;</code> option for MFEM&#39;s <code>debug</code> device is useful for debugging issues associated with GPU-based runs of <em>Palace</em>.</p><p><code>&quot;Backend&quot; [&quot;&quot;]</code> :  Specifies the <a href="https://libceed.org/en/latest/gettingstarted/#backends">libCEED backend</a> to use for the simulation. If no backend is specified, a suitable default backend is selected based on the given <code>config[&quot;Solver&quot;][&quot;Device&quot;]</code>.</p><p><code>&quot;Eigenmode&quot;</code> :  Top-level object for configuring the eigenvalue solver for the eigenmode simulation type. Thus, this object is only relevant for <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Type&quot;]: &quot;Eigenmode&quot;</code></a>.</p><p><code>&quot;Driven&quot;</code> :  Top-level object for configuring the frequency domain driven simulation type. Thus, this object is only relevant for <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Type&quot;]: &quot;Driven&quot;</code></a>.</p><p><code>&quot;Transient&quot;</code> :  Top-level object for configuring the time domain driven simulation type. Thus, this object is only relevant for <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Type&quot;]: &quot;Transient&quot;</code></a>.</p><p><code>&quot;Electrostatic&quot;</code> :  Top-level object for configuring the electrostatic simulation type. Thus, this object is only relevant for <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Type&quot;]: &quot;Electrostatic&quot;</code></a>.</p><p><code>&quot;Magnetostatic&quot;</code> :  Top-level object for configuring the magnetostatic simulation type. Thus, this object is only relevant for <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Type&quot;]: &quot;Magnetostatic&quot;</code></a>.</p><p><code>&quot;Linear&quot;</code> :  Top-level object for configuring the linear solver employed by all simulation types.</p><h3 id="Advanced-solver-options"><a class="docs-heading-anchor" href="#Advanced-solver-options">Advanced solver options</a><a id="Advanced-solver-options-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-solver-options" title="Permalink"></a></h3><ul><li><code>&quot;QuadratureOrderJacobian&quot; [false]</code></li><li><code>&quot;ExtraQuadratureOrder&quot; [0]</code></li></ul><h2 id="solver[&quot;Eigenmode&quot;]"><a class="docs-heading-anchor" href="#solver[&quot;Eigenmode&quot;]"><code>solver[&quot;Eigenmode&quot;]</code></a><a id="solver[&quot;Eigenmode&quot;]-1"></a><a class="docs-heading-anchor-permalink" href="#solver[&quot;Eigenmode&quot;]" title="Permalink"></a></h2><pre><code class="language-json hljs">&quot;Eigenmode&quot;:
{
    &quot;Target&quot;: &lt;float&gt;,
    &quot;Tol&quot;: &lt;float&gt;,
    &quot;MaxIts&quot;: &lt;int&gt;,
    &quot;MaxSize&quot;: &lt;int&gt;,
    &quot;N&quot;: &lt;int&gt;,
    &quot;Save&quot;: &lt;int&gt;,
    &quot;Type&quot;: &lt;string&gt;,
    &quot;NonlinearType&quot; : &lt;string&gt;,
}</code></pre><p>with</p><p><code>&quot;Target&quot; [None]</code> :  (Nonzero) frequency target above which to search for eigenvalues, GHz.</p><p><code>&quot;Tol&quot; [1.0e-6]</code> :  Relative convergence tolerance for the eigenvalue solver.</p><p><code>&quot;MaxIts&quot; [0]</code> :  Maximum number of iterations for the iterative eigenvalue solver. A value less than 1 uses the solver default.</p><p><code>&quot;MaxSize&quot; [0]</code> :  Maximum subspace dimension for eigenvalue solver. A value less than 1 uses the solver default.</p><p><code>&quot;N&quot; [1]</code> :  Number of eigenvalues to compute.</p><p><code>&quot;Save&quot; [0]</code> :  Number of computed field modes to save to disk for <a href="../../guide/postprocessing/#Visualization">visualization with ParaView</a>. Files are saved in the <code>paraview/</code> directory under the directory specified by <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Output&quot;]</code></a>.</p><p><code>&quot;Type&quot; [&quot;Default&quot;]</code> :  Specifies the eigenvalue solver to be used in computing the given number of eigenmodes of the problem. The available options are:</p><ul><li><code>&quot;SLEPc&quot;</code></li><li><code>&quot;ARPACK&quot;</code></li><li><code>&quot;Default&quot;</code> :  Use the default eigensolver. Currently, this is the Krylov-Schur eigenvalue solver from <code>&quot;SLEPc&quot;</code>.</li></ul><p><code>&quot;NonlinearType&quot; [&quot;Hybrid&quot;]</code> : Specifies the nonlinear eigenvalue solver to be used for nonlinear problems (e.g. frequency-dependent boundary conditions). The available options are:</p><ul><li><code>&quot;Hybrid&quot;</code> : Hybrid algorithm where a (quadratic) polynomial approximation of the nonlinear problem is first solved and the eigenmodes are then refined with a quasi-Newton nonlinear eigensolver.</li><li><code>&quot;SLP&quot;</code> : SLEPc&#39;s Successive Linear Problem nonlinear eigensolver.</li></ul><p><code>&quot;TargetUpper&quot; [3 * Target]</code> : Upper end of the frequency target range in which to search for eigenvalues, GHz. Only used in nonlinear problems. Using an inaccurate upper bound (significantly smaller or greater than the largest eigenvalue sought) can negatively affect the convergence of the nonlinear eigensolver.</p><h3 id="Advanced-eigenmode-solver-options"><a class="docs-heading-anchor" href="#Advanced-eigenmode-solver-options">Advanced eigenmode solver options</a><a id="Advanced-eigenmode-solver-options-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-eigenmode-solver-options" title="Permalink"></a></h3><ul><li><code>&quot;PEPLinear&quot; [true]</code></li><li><code>&quot;Scaling&quot; [true]</code></li><li><code>&quot;StartVector&quot; [true]</code></li><li><code>&quot;StartVectorConstant&quot; [false]</code></li><li><code>&quot;MassOrthogonal&quot; [false]</code></li><li><code>&quot;RefineNonlinear&quot; [true]</code></li><li><code>&quot;LinearTol&quot; [1e-3]</code></li><li><code>&quot;PreconditionerLag&quot; [10]</code></li><li><code>&quot;PreconditionerLagTol&quot; [1e-4]</code></li><li><code>&quot;MaxRestart&quot; [2]</code></li></ul><h2 id="solver[&quot;Driven&quot;]"><a class="docs-heading-anchor" href="#solver[&quot;Driven&quot;]"><code>solver[&quot;Driven&quot;]</code></a><a id="solver[&quot;Driven&quot;]-1"></a><a class="docs-heading-anchor-permalink" href="#solver[&quot;Driven&quot;]" title="Permalink"></a></h2><pre><code class="language-json hljs">&quot;Driven&quot;:
{
    &quot;MinFreq&quot;: &lt;float&gt;,
    &quot;MaxFreq&quot;: &lt;float&gt;,
    &quot;FreqStep&quot;: &lt;float&gt;,
    &quot;SaveStep&quot;: &lt;int&gt;,
    &quot;Samples&quot;: [ ... ],
    &quot;Save&quot;: [&lt;float array&gt;],
    &quot;Restart&quot;: &lt;int&gt;,
    &quot;AdaptiveTol&quot;: &lt;float&gt;,
    &quot;AdaptiveMaxSamples&quot;: &lt;int&gt;,
    &quot;AdaptiveConvergenceMemory&quot;: &lt;int&gt;
}</code></pre><p>with</p><p><code>&quot;MinFreq&quot; [None]</code> :  Lower bound of frequency sweep interval, GHz.</p><p><code>&quot;MaxFreq&quot; [None]</code> :  Upper bound of frequency sweep interval, GHz.</p><p><code>&quot;FreqStep&quot; [None]</code> :  Frequency step size for frequency sweep, GHz.</p><p><code>&quot;SaveStep&quot; [0]</code> :  Controls how often, in number of frequency steps, to save computed fields to disk for <a href="../../guide/postprocessing/#Visualization">visualization with ParaView</a>. Files are saved in the <code>paraview/</code> directory under the directory specified by <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Output&quot;]</code></a>.</p><p><code>&quot;Samples&quot; [None]</code> : Array of <a href="#solver%5B%22Driven%22%5D%5B%22Samples%22%5D">sample specifications</a> that specify how to construct frequency samples. These are all combined to form a sorted and unique collection of samples. These samples can be instead of, or in addition to, the interface provided by <code>&quot;MinFreq&quot;</code>, <code>&quot;MaxFreq&quot;</code>, <code>&quot;FreqStep&quot;</code> and <code>&quot;SaveStep&quot;</code>. See <a href="#solver%5B%22Driven%22%5D%5B%22Samples%22%5D"><code>solver[&quot;Driven&quot;][&quot;Samples&quot;]</code></a> for the construction of each of these structs.</p><p><code>&quot;Save&quot; [None]</code> : Array of frequencies to save computed fields to disk for <a href="../../guide/postprocessing/#Visualization">visualization with ParaView</a>, in addition to those specified by <code>&quot;SaveStep&quot;</code> in any sample specification. Files are saved in the <code>paraview/</code> directory under the directory specified by <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Output&quot;]</code></a>.</p><p><code>&quot;Restart&quot; [1]</code> :  Iteration (1-based) from which to restart for a partial frequency sweep simulation. That is <code>&quot;Restart&quot;: x</code> will start the frequency sweep from the <span>$x$</span>-th sample rather than the first sample. This indexing is from the <em>combined</em> set of frequency samples. Not valid for an adaptive fast frequency sweep.</p><p><code>&quot;AdaptiveTol&quot; [0.0]</code> :  Relative error convergence tolerance for adaptive frequency sweep. If zero, adaptive frequency sweep is disabled and the full-order model is solved at each frequency step in the specified interval. If positive, this tolerance is used to ensure the reliability of the reduced-order model relative to the full-order one in the frequency band of interest.</p><p><code>&quot;AdaptiveMaxSamples&quot; [20]</code> :  Maximum number of frequency samples used to construct the reduced-order model for adaptive fast frequency sweep, if the specified tolerance (<code>&quot;AdaptiveTol&quot;</code>) is not met first. In simulations with multiple excitations, this is the maximum number of samples per excitation.</p><p><code>&quot;AdaptiveConvergenceMemory&quot; [2]</code> :  Memory used for assessing convergence of the adaptive sampling algorithm for constructing the reduced-order model for adaptive fast frequency sweep. For example, a memory of &quot;2&quot; requires two consecutive samples which satisfy the error tolerance.</p><h3 id="solver[&quot;Driven&quot;][&quot;Samples&quot;]"><a class="docs-heading-anchor" href="#solver[&quot;Driven&quot;][&quot;Samples&quot;]"><code>solver[&quot;Driven&quot;][&quot;Samples&quot;]</code></a><a id="solver[&quot;Driven&quot;][&quot;Samples&quot;]-1"></a><a class="docs-heading-anchor-permalink" href="#solver[&quot;Driven&quot;][&quot;Samples&quot;]" title="Permalink"></a></h3><pre><code class="language-json hljs">&quot;Samples&quot;:
{
    &quot;Type&quot;: &lt;string&gt;,
    &quot;MinFreq&quot;: &lt;float&gt;,
    &quot;MaxFreq&quot;: &lt;float&gt;,
    &quot;FreqStep&quot;: &lt;float&gt;,
    &quot;NSample&quot;: &lt;float&gt;,
    &quot;Freq&quot;: [&lt;float array&gt;],
    &quot;SaveStep&quot;: &lt;int&gt;,
    &quot;AddToPROM&quot;: &lt;bool&gt;
}</code></pre><p><code>&quot;Type&quot; [None]</code> : The type of range being specified. The list of valid options are <code>&quot;Linear&quot;</code>, <code>&quot;Point&quot;</code>, <code>&quot;Log&quot;</code>. For non-ambiguous combinations of other fields, this can be inferred for convenience.</p><p><code>&quot;MinFreq&quot; [None]</code> :  Lower bound of frequency sweep interval, GHz. Valid for <code>&quot;Linear&quot;</code> and <code>&quot;Log&quot;</code>.</p><p><code>&quot;MaxFreq&quot; [None]</code> :  Upper bound of frequency sweep interval, GHz. Valid for <code>&quot;Linear&quot;</code> and <code>&quot;Log&quot;</code>.</p><p><code>&quot;FreqStep&quot; [None]</code> :  Frequency step size for frequency sweep, GHz. Valid for <code>&quot;Linear&quot;</code> only. Mutually exclusive with <code>&quot;NSample&quot;</code></p><p><code>&quot;NSample&quot; [None]</code> : Number of frequency samples over the specified range. Valid for <code>&quot;Linear&quot;</code> and <code>&quot;Log&quot;</code>. Mutually exclusive with <code>&quot;FreqStep&quot;</code>.</p><p><code>&quot;Freq&quot; [None]</code> : Explicit frequencies to be sample, GHz. Valid for <code>&quot;Point&quot;</code> only.</p><p><code>&quot;SaveStep&quot; [0]</code> :  Controls how often, in number of frequency steps, to save computed fields to disk for <a href="../../guide/postprocessing/#Visualization">visualization with ParaView</a>. Files are saved in the <code>paraview/</code> directory under the directory specified by <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Output&quot;]</code></a>.</p><p><code>&quot;AddToPROM&quot; [false]</code> : Advanced option to force the inclusion of this sample into the PROM when performing an adaptive sweep. This is primarily a debugging tool as the error estimation procedure will in general make more efficient selections of sampling points, and using this mechanism can result in a significantly larger and less efficient PROM.</p><h2 id="solver[&quot;Transient&quot;]"><a class="docs-heading-anchor" href="#solver[&quot;Transient&quot;]"><code>solver[&quot;Transient&quot;]</code></a><a id="solver[&quot;Transient&quot;]-1"></a><a class="docs-heading-anchor-permalink" href="#solver[&quot;Transient&quot;]" title="Permalink"></a></h2><pre><code class="language-json hljs">&quot;Transient&quot;:
{
    &quot;Type&quot;: &lt;string&gt;,
    &quot;Excitation&quot;: &lt;string&gt;,
    &quot;ExcitationFreq&quot;: &lt;float&gt;,
    &quot;ExcitationWidth&quot;: &lt;float&gt;,
    &quot;MaxTime&quot;: &lt;float&gt;,
    &quot;TimeStep&quot;: &lt;float&gt;,
    &quot;SaveStep&quot;: &lt;int&gt;,
    &quot;Order&quot;: &lt;int&gt;,
    &quot;RelTol&quot;: &lt;float&gt;,
    &quot;AbsTol&quot;: &lt;float&gt;
}</code></pre><p>with</p><p><code>&quot;Type&quot; [&quot;Default&quot;]</code> :  Specifies the time integration scheme used for the discretization of the second-order system of differential equations. The available options are:</p><ul><li><code>&quot;GeneralizedAlpha&quot;</code> :  The second-order implicit generalized-<span>$\alpha$</span> method with <span>$\rho_{\inf} = 1.0$</span>. This scheme is unconditionally stable.</li><li><code>&quot;ARKODE&quot;</code> :  SUNDIALS ARKode implicit Runge-Kutta scheme applied to the first-order ODE system for the electric field with adaptive time-stepping. This option is only available when <em>Palace</em> has been <a href="../../install/#Configuration-options">built with SUNDIALS support</a>.</li><li><code>&quot;CVODE&quot;</code> :  SUNDIALS CVODE implicit multistep method scheme applied to the first-order ODE system for the electric field with adaptive time-stepping. This option is only available when <em>Palace</em> has been <a href="../../install/#Configuration-options">built with SUNDIALS support</a>.</li><li><code>&quot;RungeKutta&quot;</code> : Two stage, singly diagonal implicit Runge-Kutta (SDIRK) method. Second order and L-stable.</li><li><code>&quot;Default&quot;</code> :  Use the default <code>&quot;GeneralizedAlpha&quot;</code> time integration scheme.</li></ul><p><code>&quot;Excitation&quot; [None]</code> :  Controls the time dependence of the source excitation. The available options are:</p><ul><li><code>&quot;Sinusoidal&quot;</code> :  A sinusoidal excitation at a user specified frequency.</li><li><code>&quot;Gaussian&quot;</code> :  A Gaussian pulse with a user specified width which defines the bandwidth.</li><li><code>&quot;DifferentiatedGaussian&quot;</code> :  A differentiated Gaussian pulse with a user specified width which defines the bandwidth.</li><li><code>&quot;ModulatedGaussian&quot;</code> :  A modulated Gaussian pulse at a user specified center frequency and width used to excite the system without any DC component.</li><li><code>&quot;Ramp&quot;</code> :  A differentiable unit step function to model the ramp up to a DC signal.</li><li><code>&quot;SmoothStep&quot;</code> :  A smoother many-times differentiable unit step function to model the ramp up to a DC signal over a specified width of time.</li></ul><p><code>&quot;ExcitationFreq&quot; [None]</code> :  Center frequency used for harmonic source excitations, GHz. Only relevant when <code>&quot;Excitation&quot;</code> is one of <code>&quot;Sinusoidal&quot;</code>, <code>&quot;Gaussian&quot;</code>, <code>&quot;DifferentiatedGaussian&quot;</code>, or <code>&quot;ModulatedGaussian&quot;</code>.</p><p><code>&quot;ExcitationWidth&quot; [None]</code> :  Pulse width for Gaussian-type source excitations, ns. Only relevant when <code>&quot;Excitation&quot;</code> is one of <code>&quot;Gaussian&quot;</code>, <code>&quot;DifferentiatedGaussian&quot;</code>, <code>&quot;ModulatedGaussian&quot;</code>, or <code>&quot;SmoothStep&quot;</code>.</p><p><code>&quot;MaxTime&quot; [None]</code> :  End of simulation time interval, ns. Transient simulations always start from rest at <span>$t = 0.0$</span>.</p><p><code>&quot;TimeStep&quot; [None]</code> :  Uniform time step size for time integration, ns.</p><p><code>&quot;SaveStep&quot; [0]</code> :  Controls how often, in number of time steps, to save computed fields to disk for <a href="../../guide/postprocessing/#Visualization">visualization with ParaView</a>. Files are saved in the <code>paraview/</code> directory under the directory specified by <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Output&quot;]</code></a>.</p><p><code>&quot;Order&quot; [2]</code> :  Order of the adaptive Runge-Kutta integrators or maximum order of the multistep method, must be within <code>[2,5]</code>. Should only be specified if <code>&quot;Type&quot;</code> is <code>&quot;ARKODE&quot;</code> or <code>&quot;CVODE&quot;</code>.</p><p><code>&quot;RelTol&quot; [1e-4]</code> :  Relative tolerance used in adaptive time-stepping schemes. Should only be specified if <code>&quot;Type&quot;</code> is <code>&quot;ARKODE&quot;</code> or <code>&quot;CVODE&quot;</code>.</p><p><code>&quot;AbsTol&quot; [1e-9]</code> :  Absolute tolerance used in adaptive time-stepping schemes. Should only be specified if <code>&quot;Type&quot;</code> is <code>&quot;ARKODE&quot;</code> or <code>&quot;CVODE&quot;</code>.</p><h2 id="solver[&quot;Electrostatic&quot;]"><a class="docs-heading-anchor" href="#solver[&quot;Electrostatic&quot;]"><code>solver[&quot;Electrostatic&quot;]</code></a><a id="solver[&quot;Electrostatic&quot;]-1"></a><a class="docs-heading-anchor-permalink" href="#solver[&quot;Electrostatic&quot;]" title="Permalink"></a></h2><pre><code class="language-json hljs">&quot;Electrostatic&quot;:
{
    &quot;Save&quot;: &lt;int&gt;
}</code></pre><p>with</p><p><code>&quot;Save&quot; [0]</code> :  Number of computed electric field solutions to save to disk for <a href="../../guide/postprocessing/#Visualization">visualization with ParaView</a>, ordered by the entries in the computed capacitance matrix. Files are saved in the <code>paraview/</code> directory under the directory specified by <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Output&quot;]</code></a>.</p><h2 id="solver[&quot;Magnetostatic&quot;]"><a class="docs-heading-anchor" href="#solver[&quot;Magnetostatic&quot;]"><code>solver[&quot;Magnetostatic&quot;]</code></a><a id="solver[&quot;Magnetostatic&quot;]-1"></a><a class="docs-heading-anchor-permalink" href="#solver[&quot;Magnetostatic&quot;]" title="Permalink"></a></h2><pre><code class="language-json hljs">&quot;Magnetostatic&quot;:
{
    &quot;Save&quot;: &lt;int&gt;
}</code></pre><p>with</p><p><code>&quot;Save&quot; [0]</code> :  Number of computed magnetic field solutions to save to disk for <a href="../../guide/postprocessing/#Visualization">visualization with ParaView</a>), ordered by the entries in the computed inductance matrix. Files are saved in the <code>paraview/</code> directory under the directory specified by <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Output&quot;]</code></a>.</p><h2 id="solver[&quot;Linear&quot;]"><a class="docs-heading-anchor" href="#solver[&quot;Linear&quot;]"><code>solver[&quot;Linear&quot;]</code></a><a id="solver[&quot;Linear&quot;]-1"></a><a class="docs-heading-anchor-permalink" href="#solver[&quot;Linear&quot;]" title="Permalink"></a></h2><pre><code class="language-json hljs">&quot;Linear&quot;:
{
    &quot;Type&quot;: &lt;string&gt;,
    &quot;KSPType&quot;: &lt;string&gt;,
    &quot;Tol&quot;: &lt;float&gt;,
    &quot;MaxIts&quot;: &lt;int&gt;,
    &quot;MaxSize&quot;: &lt;int&gt;,
    &quot;MGMaxLevels&quot;: &lt;int&gt;,
    &quot;MGCoarsenType&quot;: &lt;string&gt;,
    &quot;MGCycleIts&quot;: &lt;int&gt;,
    &quot;MGSmoothIts&quot;: &lt;int&gt;,
    &quot;MGSmoothOrder&quot;: &lt;int&gt;,
    &quot;PCMatReal&quot;: &lt;bool&gt;,
    &quot;PCMatShifted&quot;: &lt;bool&gt;,
    &quot;ComplexCoarseSolve&quot;: &lt;bool&gt;,
    &quot;PCSide&quot;: &lt;string&gt;,
    &quot;DivFreeTol&quot;: &lt;float&gt;,
    &quot;DivFreeMaxIts&quot;: &lt;float&gt;,
    &quot;EstimatorTol&quot;: &lt;float&gt;,
    &quot;EstimatorMaxIts&quot;: &lt;float&gt;,
    &quot;EstimatorMG&quot;: &lt;bool&gt;,
    &quot;GSOrthogonalization&quot;: &lt;string&gt;
}</code></pre><p>with</p><p><code>&quot;Type&quot; [&quot;Default&quot;]</code> :  Specifies the solver used for <a href="https://en.wikipedia.org/wiki/Preconditioner">preconditioning</a> the linear system of equations to be solved for each simulation type. The available options are:</p><ul><li><code>&quot;SuperLU&quot;</code> :  The <a href="https://github.com/xiaoyeli/superlu_dist">SuperLU_DIST</a> sparse direct solver in real double precision is used to factorize the system matrix. For frequency domain problems this uses a real approximation to the true complex linear system matrix. This option is only available when <em>Palace</em> has been <a href="../../install/#Configuration-options">built with SuperLU_DIST support</a>.</li><li><code>&quot;STRUMPACK&quot;</code> :  The <a href="https://portal.nersc.gov/project/sparse/strumpack">STRUMPACK</a> sparse direct solver in real double precision is used to factorize the system matrix. For frequency domain problems this uses a real approximation to the true complex linear system matrix. This option is only available when <em>Palace</em> has been <a href="../../install/#Configuration-options">built with STRUMPACK support</a>.</li><li><code>&quot;MUMPS&quot;</code> :  The <a href="http://mumps.enseeiht.fr/">MUMPS</a> sparse direct solver in real double precision is used to factorize the system matrix. For frequency domain problems this uses a real approximation to the true complex linear system matrix. This option is only available when <em>Palace</em> has been <a href="../../install/#Configuration-options">built with MUMPS support</a>.</li><li><code>&quot;AMS&quot;</code> :  Hypre&#39;s <a href="https://hypre.readthedocs.io/en/latest/solvers-ams.html">Auxiliary-space Maxwell Solver (AMS)</a>, an algebraic multigrid (AMG)-based preconditioner.</li><li><code>&quot;BoomerAMG&quot;</code> :  The <a href="https://hypre.readthedocs.io/en/latest/solvers-boomeramg.html">BoomerAMG</a> AMG solver from Hypre.</li><li><code>&quot;Jacobi&quot;</code> :  Diagonal scaling with a simple Jacobi preconditioner (not recommended in general).</li><li><code>&quot;Default&quot;</code> :  Use the default <code>&quot;AMS&quot;</code> solver for simulation types involving definite or semi-definite curl-curl operators (time domain problems as well as magnetostatics). For frequency domain problems, use a sparse direct solver if available, otherwise uses <code>&quot;AMS&quot;</code>. For electrostatic problems, uses <code>&quot;BoomerAMG&quot;</code>.</li></ul><p><code>&quot;KSPType&quot; [&quot;Default&quot;]</code> :  Specifies the iterative <a href="https://en.wikipedia.org/wiki/Krylov_subspace">Krylov subspace</a> solver type for solving linear systems of equations arising for each simulation type. The available options are:</p><ul><li><code>&quot;CG&quot;</code></li><li><code>&quot;GMRES&quot;</code></li><li><code>&quot;FGMRES&quot;</code></li><li><code>&quot;Default&quot;</code> :  Use the default <code>&quot;GMRES&quot;</code> Krylov subspace solver for frequency domain problems, that is when <a href="../problem/#config%5B%22Problem%22%5D"><code>config[&quot;Problem&quot;][&quot;Type&quot;]</code></a> is <code>&quot;Eigenmode&quot;</code> or <code>&quot;Driven&quot;</code>. For the other simulation types, the linear system matrix is always real and symmetric positive definite (SPD) and the preconditioned conjugate gradient method (<code>&quot;CG&quot;</code>) is used as the Krylov solver.</li></ul><p><code>&quot;Tol&quot; [1.0e-6]</code> :  Relative residual convergence tolerance for the iterative linear solver.</p><p><code>&quot;MaxIts&quot; [100]</code> :  Maximum number of iterations for the iterative linear solver.</p><p><code>&quot;MaxSize&quot; [0]</code> :  Maximum Krylov space size for the GMRES and FGMRES solvers. A value less than 1 defaults to the value specified by <code>&quot;MaxIts&quot;</code>.</p><p><code>&quot;MGMaxLevels&quot; [100]</code> : When greater than 1, enable the <a href="https://en.wikipedia.org/wiki/Multigrid_method">geometric multigrid preconditioning</a>, which uses p- and h-multigrid coarsening as available to construct the multigrid hierarchy. The solver specified by <code>&quot;Type&quot;</code> is used on the coarsest level. Relaxation on the fine levels is performed with Chebyshev smoothing.</p><p><code>&quot;MGCoarsenType&quot; [&quot;Logarithmic&quot;]</code> :  Coarsening to create p-multigrid levels.</p><ul><li><code>&quot;Logarithmic&quot;</code></li><li><code>&quot;Linear&quot;</code></li></ul><p><code>&quot;MGCycleIts&quot; [1]</code> : Number of V-cycle iterations per preconditioner application for multigrid preconditioners (when the geometric multigrid preconditioner is enabled, i.e. when <code>MGMaxLevels</code> &gt; 1, or when <code>&quot;Type&quot;</code> is <code>&quot;AMS&quot;</code> or <code>&quot;BoomerAMG&quot;</code>).</p><p><code>&quot;MGSmoothIts&quot; [1]</code> : Number of pre- and post-smooth iterations used for multigrid preconditioners (when the geometric multigrid preconditioner is enabled, i.e. when <code>MGMaxLevels</code> &gt; 1, or when <code>&quot;Type&quot;</code> is <code>&quot;AMS&quot;</code> or <code>&quot;BoomerAMG&quot;</code>).</p><p><code>&quot;MGSmoothOrder&quot; [0]</code> :  Order of polynomial smoothing for geometric multigrid preconditioning. A value less than 1 defaults to twice the solution order given in <a href="../problem/#config%5B%22Solver%22%5D"><code>config[&quot;Solver&quot;][&quot;Order&quot;]</code></a> or 4, whichever is larger.</p><p><code>&quot;PCMatReal&quot; [false]</code> :  When set to <code>true</code>, constructs the preconditioner for frequency domain problems using a real-valued approximation of the system matrix. This is always performed for the coarsest multigrid level regardless of the setting of <code>&quot;PCMatReal&quot;</code>.</p><p><code>&quot;PCMatShifted&quot; [false]</code> :  When set to <code>true</code>, constructs the preconditioner for frequency domain problems using a positive definite approximation of the system matrix by flipping the sign for the mass matrix contribution, which can help performance at high frequencies (relative to the lowest nonzero eigenfrequencies of the model).</p><p><code>&quot;ComplexCoarseSolve&quot; [false]</code> : When set to <code>true</code>, the coarse-level solver uses the true complex-valued system matrix. When set to <code>false</code>, the real-valued approximation is used.</p><p><code>&quot;PCSide&quot; [&quot;Default&quot;]</code> :  Side for preconditioning. Not all options are available for all iterative solver choices, and the default choice depends on the iterative solver used.</p><ul><li><code>&quot;Left&quot;</code></li><li><code>&quot;Right&quot;</code></li><li><code>&quot;Default&quot;</code></li></ul><p><code>&quot;DivFreeTol&quot; [1.0e-12]</code> :  Relative tolerance for divergence-free cleaning used in the eigenmode simulation type. Ignored if non-zero Floquet wave vector is specified in <a href="../boundaries/##boundaries%5B%%22Periodic%22%5D%22FloquetWaveVector%22%5D"><code>config[&quot;Boundaries&quot;][&quot;Periodic&quot;][&quot;FloquetWaveVector&quot;]</code></a> or <a href="../boundaries/##boundaries%5B%%22FloquetWaveVector%22%5D"><code>config[&quot;Boundaries&quot;][&quot;FloquetWaveVector&quot;]</code></a>, or non-zero <a href="../domains/##domains%5B%22Materials%22%5D%5B%22LondonDepth%22%5D"><code>config[&quot;Domains&quot;][&quot;Materials&quot;][&quot;LondonDepth&quot;]</code></a> is specified.</p><p><code>&quot;DivFreeMaxIts&quot; [1000]</code> :  Maximum number of iterations for divergence-free cleaning use in the eigenmode simulation type. Ignored if non-zero Floquet wave vector is specified in <a href="../boundaries/##boundaries%5B%%22Periodic%22%5D%22FloquetWaveVector%22%5D"><code>config[&quot;Boundaries&quot;][&quot;Periodic&quot;][&quot;FloquetWaveVector&quot;]</code></a> or <a href="../boundaries/##boundaries%5B%%22FloquetWaveVector%22%5D"><code>config[&quot;Boundaries&quot;][&quot;FloquetWaveVector&quot;]</code></a>, or non-zero <a href="../domains/##domains%5B%22Materials%22%5D%5B%22LondonDepth%22%5D"><code>config[&quot;Domains&quot;][&quot;Materials&quot;][&quot;LondonDepth&quot;]</code></a> is specified.</p><p><code>&quot;EstimatorTol&quot; [1.0e-6]</code> :  Relative tolerance for flux projection used in the error estimate calculation.</p><p><code>&quot;EstimatorMaxIts&quot; [10000]</code> :  Maximum number of iterations for flux projection use in the error estimate calculation.</p><p><code>&quot;EstimatorMG&quot; [false]</code> :  Set to true in order to enable multigrid preconditioner with AMG coarse solve for the error estimate linear solver, instead of just Jacobi.</p><p><code>&quot;GSOrthogonalization&quot; [&quot;MGS&quot;]</code> :  Gram-Schmidt variant used to explicitly orthogonalize vectors in Krylov subspace methods or other parts of the code.</p><ul><li><code>&quot;MGS&quot;</code> :  Modified Gram-Schmidt</li><li><code>&quot;CGS&quot;</code> :  Classical Gram-Schmidt</li><li><code>&quot;CGS2&quot;</code> :  Two-step classical Gram-Schmidt with reorthogonalization</li></ul><h3 id="Advanced-linear-solver-options"><a class="docs-heading-anchor" href="#Advanced-linear-solver-options">Advanced linear solver options</a><a id="Advanced-linear-solver-options-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-linear-solver-options" title="Permalink"></a></h3><ul><li><code>&quot;InitialGuess&quot; [true]</code></li><li><code>&quot;MGUseMesh&quot; [true]</code></li><li><code>&quot;MGAuxiliarySmoother&quot; [true]</code></li><li><code>&quot;MGSmoothEigScaleMax&quot; [1.0]</code></li><li><code>&quot;MGSmoothEigScaleMin&quot; [0.0]</code></li><li><code>&quot;MGSmoothChebyshev4th&quot; [true]</code></li><li><code>&quot;ColumnOrdering&quot; [&quot;Default&quot;]</code> :  <code>&quot;METIS&quot;</code>, <code>&quot;ParMETIS&quot;</code>,<code>&quot;Scotch&quot;</code>, <code>&quot;PTScotch&quot;</code>, <code>&quot;PORD&quot;</code>, <code>&quot;AMD&quot;</code>, <code>&quot;RCM&quot;</code>, <code>&quot;Default&quot;</code></li><li><code>&quot;STRUMPACKCompressionType&quot; [&quot;None&quot;]</code> :  <code>&quot;None&quot;</code>, <code>&quot;BLR&quot;</code>, <code>&quot;HSS&quot;</code>, <code>&quot;HODLR&quot;</code>, <code>&quot;ZFP&quot;</code>, <code>&quot;BLR-HODLR&quot;</code>, <code>&quot;ZFP-BLR-HODLR&quot;</code></li><li><code>&quot;STRUMPACKCompressionTol&quot; [1.0e-3]</code></li><li><code>&quot;STRUMPACKLossyPrecision&quot; [16]</code></li><li><code>&quot;STRUMPACKButterflyLevels&quot; [1]</code></li><li><code>&quot;SuperLU3DCommunicator&quot; [false]</code></li><li><code>&quot;AMSVectorInterpolation&quot; [false]</code></li><li><code>&quot;AMSSingularOperator&quot; [false]</code></li><li><code>&quot;AMGAggressiveCoarsening&quot; [false]</code></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../boundaries/">« <code>config[&quot;Boundaries&quot;]</code></a><a class="docs-footer-nextpage" href="../../examples/examples/">Overview »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 1 October 2025 21:58">Wednesday 1 October 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
