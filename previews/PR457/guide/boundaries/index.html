<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Boundary Conditions · Palace</title><meta name="title" content="Boundary Conditions · Palace"/><meta property="og:title" content="Boundary Conditions · Palace"/><meta property="twitter:title" content="Boundary Conditions · Palace"/><meta name="description" content="Documentation for Palace."/><meta property="og:description" content="Documentation for Palace."/><meta property="twitter:description" content="Documentation for Palace."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.png" alt="Palace logo"/><img class="docs-dark-only" src="../../assets/logo-dark.png" alt="Palace logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../install/">Installation</a></li><li><a class="tocitem" href="../../run/">Running <em>Palace</em></a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../guide/">Overview</a></li><li><a class="tocitem" href="../problem/">Problem Types</a></li><li><a class="tocitem" href="../model/">Simulation Models</a></li><li class="is-active"><a class="tocitem" href>Boundary Conditions</a><ul class="internal"><li><a class="tocitem" href="#Perfect-electric-conductor-(PEC)-boundary"><span>Perfect electric conductor (PEC) boundary</span></a></li><li><a class="tocitem" href="#Perfect-magnetic-conductor-(PMC)-boundary"><span>Perfect magnetic conductor (PMC) boundary</span></a></li><li><a class="tocitem" href="#Impedance-boundary"><span>Impedance boundary</span></a></li><li><a class="tocitem" href="#Absorbing-(scattering)-boundary"><span>Absorbing (scattering) boundary</span></a></li><li><a class="tocitem" href="#Finite-conductivity-boundary"><span>Finite conductivity boundary</span></a></li><li><a class="tocitem" href="#Periodic-boundary"><span>Periodic boundary</span></a></li><li><a class="tocitem" href="#Lumped-and-wave-port-excitation"><span>Lumped and wave port excitation</span></a></li><li><a class="tocitem" href="#Surface-current-excitation"><span>Surface current excitation</span></a></li></ul></li><li><a class="tocitem" href="../postprocessing/">Postprocessing and Visualization</a></li><li><a class="tocitem" href="../parallelism/">Parallelism and GPU Support</a></li></ul></li><li><span class="tocitem">Configuration File</span><ul><li><a class="tocitem" href="../../config/config/">Overview</a></li><li><a class="tocitem" href="../../config/problem/"><code>config[&quot;Problem&quot;]</code></a></li><li><a class="tocitem" href="../../config/model/"><code>config[&quot;Model&quot;]</code></a></li><li><a class="tocitem" href="../../config/domains/"><code>config[&quot;Domains&quot;]</code></a></li><li><a class="tocitem" href="../../config/boundaries/"><code>config[&quot;Boundaries&quot;]</code></a></li><li><a class="tocitem" href="../../config/solver/"><code>config[&quot;Solver&quot;]</code></a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/examples/">Overview</a></li><li><a class="tocitem" href="../../examples/spheres/">Capacitance Matrix for Two Spheres</a></li><li><a class="tocitem" href="../../examples/rings/">Inductance Matrix for a Pair of Concentric Rings</a></li><li><a class="tocitem" href="../../examples/cylinder/">Eigenmodes of a Cylinder</a></li><li><a class="tocitem" href="../../examples/coaxial/">Signal Propagation in a Coaxial Cable</a></li><li><a class="tocitem" href="../../examples/cpw/">Crosstalk Between Coplanar Waveguides</a></li></ul></li><li><a class="tocitem" href="../../developer/">Developer Notes</a></li><li><a class="tocitem" href="../../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href>Boundary Conditions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Boundary Conditions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/awslabs/palace" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/awslabs/palace/blob/main/docs/src/guide/boundaries.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><!--- Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved. --->
<!--- SPDX-License-Identifier: Apache-2.0 ---><h1 id="Boundary-Conditions"><a class="docs-heading-anchor" href="#Boundary-Conditions">Boundary Conditions</a><a id="Boundary-Conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Boundary-Conditions" title="Permalink"></a></h1><h2 id="Perfect-electric-conductor-(PEC)-boundary"><a class="docs-heading-anchor" href="#Perfect-electric-conductor-(PEC)-boundary">Perfect electric conductor (PEC) boundary</a><a id="Perfect-electric-conductor-(PEC)-boundary-1"></a><a class="docs-heading-anchor-permalink" href="#Perfect-electric-conductor-(PEC)-boundary" title="Permalink"></a></h2><p>The perfect electric conductor (PEC) boundary condition (zero tangential electric field) is specified using the <code>&quot;PEC&quot;</code> boundary keyword under <a href="../../config/boundaries/#boundaries%5B%22PEC%22%5D"><code>config[&quot;Boundaries&quot;]</code></a>. It is a homogeneous Dirichlet boundary condition for the frequency or time domain finite element formulation, as well as the magnetostatic formulation.</p><p>For electrostatic simulations, the homogeneous Dirichlet boundary condition is prescribed using the <a href="../../config/boundaries/#boundaries%5B%22Ground%22%5D"><code>&quot;Ground&quot;</code></a> boundary keyword which prescribes zero voltage at the boundary.</p><h2 id="Perfect-magnetic-conductor-(PMC)-boundary"><a class="docs-heading-anchor" href="#Perfect-magnetic-conductor-(PMC)-boundary">Perfect magnetic conductor (PMC) boundary</a><a id="Perfect-magnetic-conductor-(PMC)-boundary-1"></a><a class="docs-heading-anchor-permalink" href="#Perfect-magnetic-conductor-(PMC)-boundary" title="Permalink"></a></h2><p>The perfect magnetic conductor (PMC) boundary condition (zero tangential magnetic field) is a homogeneous Neumann boundary condition for the frequency or time domain finite element formulation, as well as the magnetostatic formulation. It is the natural boundary condition and thus it has the same effect as not specifying any additional boundary condition on external boundary surfaces. It can also be explicitly specified using the <code>&quot;PMC&quot;</code> boundary keyword under <a href="../../config/boundaries/#boundaries%5B%22PMC%22%5D"><code>config[&quot;Boundaries&quot;]</code></a>.</p><p>Likewise, for electrostatic simulations, the homogeneous Neumann boundary condition implies a zero-charge boundary, and thus zero gradient of the voltage in the direction normal to the boundary. This is specified using the <code>&quot;ZeroCharge&quot;</code> boundary keyword under <a href="../../config/boundaries/#boundaries%5B%22ZeroCharge%22%5D"><code>config[&quot;Boundaries&quot;]</code></a>.</p><h2 id="Impedance-boundary"><a class="docs-heading-anchor" href="#Impedance-boundary">Impedance boundary</a><a id="Impedance-boundary-1"></a><a class="docs-heading-anchor-permalink" href="#Impedance-boundary" title="Permalink"></a></h2><p>The impedance boundary condition is a mixed (Robin) boundary condition and is available for the frequency or time domain finite element formulations and thus for eigenmode or frequency or time domain driven simulation types. It is specified using the <a href="../../config/boundaries/#boundaries%5B%22Impedance%22%5D"><code>&quot;Impedance&quot;</code></a> boundary keyword. The surface impedance relating the tangential electric and magnetic fields on the boundary is computed from the parallel impedances due to the specified resistance, inductance, and capacitance per square.</p><h2 id="Absorbing-(scattering)-boundary"><a class="docs-heading-anchor" href="#Absorbing-(scattering)-boundary">Absorbing (scattering) boundary</a><a id="Absorbing-(scattering)-boundary-1"></a><a class="docs-heading-anchor-permalink" href="#Absorbing-(scattering)-boundary" title="Permalink"></a></h2><p>Absorbing boundary conditions at farfield boundaries, also referred to as scattering boundary conditions, can be applied using the <code>&quot;Absorbing&quot;</code> boundary keyword under <a href="../../config/boundaries/#boundaries%5B%22Absorbing%22%5D"><code>config[&quot;Boundaries&quot;]</code></a>. The first-order absorbing boundary condition is a special case of the above impedance boundary and is available for eigenmode or frequency or time domain driven simulation types. The second-order absorbing boundary condition is only available for frequency domain driven simulations.</p><p><a href="https://en.wikipedia.org/wiki/Perfectly_matched_layer">Perfectly matched layer (PML)</a> boundaries for frequency and time domain electromagnetic formulations are not yet implemented, but are <a href="https://www.sciencedirect.com/science/article/abs/pii/S0021999112000344">common</a> in solvers for computational electromagnetics and will be a useful addition.</p><h2 id="Finite-conductivity-boundary"><a class="docs-heading-anchor" href="#Finite-conductivity-boundary">Finite conductivity boundary</a><a id="Finite-conductivity-boundary-1"></a><a class="docs-heading-anchor-permalink" href="#Finite-conductivity-boundary" title="Permalink"></a></h2><p>A finite conductivity boundary condition can be specified using the <a href="../../config/boundaries/#boundaries%5B%22Conductivity%22%5D"><code>&quot;Conductivity&quot;</code></a> boundary keyword. This boundary condition models the effect of a boundary with non-infinite conductivity (an imperfect conductor) for conductors with thickness much larger than the skin depth. It is available only for frequency domain driven simulations. For more information see the <a href="../../reference/#Other-boundary-conditions">Other boundary conditions</a> section of the reference.</p><h2 id="Periodic-boundary"><a class="docs-heading-anchor" href="#Periodic-boundary">Periodic boundary</a><a id="Periodic-boundary-1"></a><a class="docs-heading-anchor-permalink" href="#Periodic-boundary" title="Permalink"></a></h2><p>Periodic boundary conditions on an existing mesh can be specified using the <a href="../../config/boundaries/#boundaries%5B%22Periodic%22%5D">&quot;Periodic&quot;</a> boundary keyword. This boundary condition enforces that the solution on the specified boundaries be exactly equal, and requires that the surface meshes on the donor and receiver boundaries be identical up to translation or rotation. Periodicity in <em>Palace</em> is also supported through meshes generated incorporating periodicity as part of the meshing process.</p><h2 id="Lumped-and-wave-port-excitation"><a class="docs-heading-anchor" href="#Lumped-and-wave-port-excitation">Lumped and wave port excitation</a><a id="Lumped-and-wave-port-excitation-1"></a><a class="docs-heading-anchor-permalink" href="#Lumped-and-wave-port-excitation" title="Permalink"></a></h2><ul><li><p><a href="../../config/boundaries/#boundaries%5B%22LumpedPort%22%5D"><code>config[&quot;Boundaries&quot;][&quot;LumpedPort&quot;]</code></a> : A lumped port applies a similar boundary condition to a <a href="#Impedance-boundary">surface impedance</a> boundary, but takes on a special meaning for each simulation type.</p><p>For frequency domain driven simulations, ports are used to provide a lumped port excitation and postprocess voltages, currents, and scattering parameters. Likewise, for transient simulations, they perform a similar purpose but for time domain computed quantities.</p><p>For eigenmode simulations where there is no excitation, lumped ports are used to specify properties and postprocess energy-participation ratios (EPRs) corresponding to linearized circuit elements.</p><p>Note that a single lumped port (given by a single integer <code>&quot;Index&quot;</code>) can be made up of multiple boundary attributes in the mesh in order to model, for example, a multielement lumped port. To use this functionality, use the <code>&quot;Elements&quot;</code> object under <a href="../../config/boundaries/#boundaries%5B%22LumpedPort%22%5D"><code>&quot;LumpedPort&quot;</code></a>.</p></li><li><p><a href="../../config/boundaries/#boundaries%5B%22WavePort%22%5D"><code>config[&quot;Boundaries&quot;][&quot;WavePort&quot;]</code></a> : Numeric wave ports are available for frequency domain driven simulations. In this case, a port boundary condition is applied with an optional excitation using a modal field shape which is computed by solving a 2D boundary mode eigenproblem on each wave port boundary. This allows for more accurate scattering parameter calculations when modeling waveguides or transmission lines with arbitrary cross sections.</p><p>The homogeneous Dirichlet boundary conditions for the wave port boundary mode analysis are taken from the <code>&quot;PEC&quot;</code> boundaries of the full 3D model, as well as any optional additional boundary attributes given under <code>&quot;WavePortPEC&quot;</code>. Any boundary of the wave port not labeled with with a PEC condition has the natural boundary condition for zero tangential magnetic field prescribed for the purpose of port mode calculation.</p><p>Unlike lumped ports, wave port boundaries cannot be defined internal to the computational domain and instead must exist only on the outer boundary of the domain (they are to be &quot;one-sided&quot; in the sense that mesh elements only exist on one side of the boundary).</p><p>Wave ports are not currently compatible with nonconformal mesh refinement.</p></li></ul><p>For each port, the excitation is normalized to have unit incident power over the port boundary surface.</p><p>The presence of an incident excitation at a port is controlled by the settings <a href="../../config/boundaries/#boundaries%5B%22LumpedPort%22%5D"><code>config[&quot;Boundaries&quot;][&quot;LumpedPort&quot;][][&quot;Excitation&quot;]</code></a> and <a href="../../config/boundaries/#boundaries%5B%22WavePort%22%5D"><code>config[&quot;WavePort&quot;][][&quot;Excitation&quot;]</code></a>. The <code>Excitation</code> settings can either be specified as non-negative integers or booleans.</p><ul><li><p><em>Boolean setting</em>: <code>true</code>/<code>false</code> indicates the presence / absence of an incident excitation. Usually, only a single port will be marked as excited. In that case, the <code>&quot;Excitation&quot;</code> will promoted to the port <code>&quot;Index&quot;</code>. If there are multiple excited ports, the <code>&quot;Excitation&quot;</code> is <code>1</code>.</p></li><li><p><em>Integer setting</em>: Here the user manually assigns excitation indices to ports. The value <code>0</code> corresponds to no excitation. A positive integer <code>i</code> means that port is excited during excitation <code>i</code>. If multiple ports share an excitation index <code>i</code>, they will be excited at the same time. In the special, but common, case that each excitation consists of only a single port, the port index and excitation index must be equal. This avoids ambiguity in the scattering matrix.</p></li></ul><p>For frequency domain driven simulations only, it is possible to specify multiple excitations in the same simulation using different positive integers (&quot;multi-excitation&quot;). These excitations are simulated consecutively during the Palace run. The results are printed to shared csv files. When there are multiple excitations, the columns of the csv files are post-indexed by the excitation index (e.g. <code>Φ_elec[1][5] (C)</code> denoting the flux through surface 1 of excitation 5). Note that a port can only be part of one excitation.</p><div class="admonition is-warning" id="Indexing-622d60d001c93132"><header class="admonition-header">Indexing<a class="admonition-anchor" href="#Indexing-622d60d001c93132" title="Permalink"></a></header><div class="admonition-body"><p>Any <code>&quot;Index&quot;</code> of <a href="../../config/boundaries/#boundaries%5B%22LumpedPort%22%5D"><code>&quot;LumpedPort&quot;</code></a>, <a href="../../config/boundaries/#boundaries%5B%22WavePort%22%5D"><code>&quot;WavePort&quot;</code></a>, <a href="../../config/boundaries/#boundaries%5B%22SurfaceCurrent%22%5D"><code>&quot;SurfaceCurrent&quot;</code></a>, or <a href="../../config/boundaries/#boundaries%5B%22Terminal%22%5D"><code>&quot;Terminal&quot;</code></a> must be unique, including between different boundary conditions types (e.g. you can not have an lumped port and wave port both with <code>Index: 5</code>).</p></div></div><h2 id="Surface-current-excitation"><a class="docs-heading-anchor" href="#Surface-current-excitation">Surface current excitation</a><a id="Surface-current-excitation-1"></a><a class="docs-heading-anchor-permalink" href="#Surface-current-excitation" title="Permalink"></a></h2><p>An alternative source excitation to lumped or wave ports for frequency and time domain driven simulations is a surface current excitation, specified under <a href="../../config/boundaries/#boundaries%5B%22SurfaceCurrent%22%5D"><code>config[&quot;Boundaries&quot;][&quot;SurfaceCurrent&quot;]</code></a>. This is the excitation used for magnetostatic simulation types as well. This option prescribes a unit source surface current excitation on the given boundary in order to excite the model. It does does not prescribe any boundary condition to the model and only affects the source term on the right hand side.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../model/">« Simulation Models</a><a class="docs-footer-nextpage" href="../postprocessing/">Postprocessing and Visualization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 20 August 2025 22:52">Wednesday 20 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
